<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>对象的序列化</title>
    <script>
        /* 
            对象的序列化
                - js的对象使用时都是存在于内存中
                - 序列化是将对象转换为一个可以存储的格式
                    在js中的序列化通常是将一个对象转换为字符串
                - 序列化的用途（对象转换为字符串有什么用）：
                    - 对象转换为字符串后，可以将字符串在不同的语言之间传递|
                        甚至人直接可以对字符串进行读写操作，使得js对象可以跨越平台
                    - 用途：
                        1.作为数据交换的格式
                        2.用来编写配置文件
                - 如何进行序列化
                    - 在js中有一个工具类，JSON(javaScript Object Notation)  js对象表示法
                    - js对象序列化后会转换为一个字符串，这个字符串就是json格式
                
                - 也可以手动编写json字符串，然后将其转换为对象
                    很多软件的配置文件就是用json格式存储的
                - 编写json的注意事项：
                    1.json字符串有两种类型
                        json对象{}
                        json数组[]
                    2.json字符串的属性名必须使用双引号""
                    3.json中可以使用的属性值(元素)
                        - 数字 number
                        - 字符串 string
                        - 布尔值    boolean
                        - null      
                        - 对象       object
                        - 数组  array
                    4.json的格式和js对象的格式基本上一致
                        注意，json字符串中如果属性是最后一个，则不需要加逗号

        */
        const obj = {
            name: "孙悟空",
            age: 18
        }

        //将obj转换为json字符串
        //JSON.stringify()可以将一个对象转换为json字符串
        const str = JSON.stringify(obj);

        console.log(obj);
        console.log(str);

        //将json字符串转换为对象
        //JSON.parse()可以将一个json字符串转换为一个对象
        const obj2 = JSON.parse(str);

        console.log(obj2);

        const str2 = '{"name":"猪八戒","age":26}'

        console.log(str2);

        const obj3 = JSON.parse(str2);

        console.log(obj3);

        const str3 = '{}'   //空对象
        const str4 = '[]'   //空数组
        const str5 = '["hello",true,null,{"name":"张无忌"},[1,2,3],666]'
        console.log(JSON.parse(str3));
        console.log(JSON.parse(str4));
        console.log(JSON.parse(str5));

    </script>
</head>

<body>

</body>

</html>