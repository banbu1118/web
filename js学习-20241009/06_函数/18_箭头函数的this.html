<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>箭头函数的this</title>
    <script>
        /* 
            箭头函数：
                ([arguments]) => 返回值

            例子：
                无参箭头函数：() => 返回值
                一个参数的箭头函数：a => 返回值
                多个参数的箭头函数：(a, b) => 返回值

                只有一个语句的箭头函数：() => 返回值
                只返回一个对象的箭头函数：() => ({...})
                有多行语句的函数：() => {
                    语句1;
                    语句2;
                    return 返回值;
                }

            箭头函数没有自己的this，它的this取决于外层作用域的this。
                箭头函数的this和它的调用方式无关
            
        */
        function fn() {
            console.log("fn->", this);
        }

        const fn2 = () => {
            console.log("fn2->", this); // 箭头函数没有自己的this，它的this取决于外层作用域的this。总是指向window
        }

        // fn()       // window
        // fn2()      // window

        const obj = {
            name: "孙悟空",
            // fn: fn,
            // fn2: fn2
            //简写为fn
            fn,
            fn2,
            sayHello() {
                console.log("hello, " + this.name);
                // function t(){
                //     console.log("t->", this);
                // }
                // t(); // window

                const t2 = () => {
                    console.log("t2->", this);
                }
                t2();    // 箭头函数没有自己的this，它的this取决于外层作用域的this。
            }
        }

        // obj.fn()    // obj
        // obj.fn2()   // window

        obj.sayHello() // hello, 孙悟空
    </script>
</head>

<body>

</body>

</html>